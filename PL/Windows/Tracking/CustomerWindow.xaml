<Window x:Class="PL.Windows.Tracking.CustomerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:wpf="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
    xmlns:controls="clr-namespace:PL.Controls"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    mc:Ignorable="d"
    Title="CustomerWindow" 
    MinHeight="{Binding MinScreenHeight}" 
    MinWidth="{Binding MinScreenWidth}"
    d:MinHeight="700"
    d:MinWidth="1200"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    Background="{x:Null}"
    AllowsTransparency="True"
    WindowStyle="None"
    WindowStartupLocation="CenterScreen">

    <!-- Styles -->
    <Window.Resources>
        <ResourceDictionary>

            <Style x:Key="InfoHeader" TargetType="TextBlock">
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontFamily" Value="Dubai Medium" />
                <Setter Property="Foreground" Value="#FF413940" />
                <Setter Property="VerticalAlignment" Value="Top" />
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="Margin" Value="20 15 0 0"/>
            </Style>

            <Style x:Key="InfoDetails" TargetType="TextBlock">
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontFamily" Value="Dubai" />
                <Setter Property="Foreground" Value="#FFa9a9a9" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="Margin" Value="0 15 0 0"/>
            </Style>

            <DropShadowEffect
                x:Key="DropShadowEffect"
                BlurRadius="17"
                Direction="-75"
                Color="#333333"
                ShadowDepth="5"
                Opacity="0.2" />
            <Style TargetType="Border">
                <Setter Property="Effect" Value="{StaticResource DropShadowEffect}" />
            </Style>

        </ResourceDictionary>
    </Window.Resources>
    <!-- End of Styles-->

    <materialDesign:Card
        UniformCornerRadius="10"
        Background="{DynamicResource MaterialDesignPaper}"
        materialDesign:ShadowAssist.ShadowDepth="Depth4">

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="68*" />
                <ColumnDefinition Width="1119*" />
                <ColumnDefinition Width="63*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="43*" Name="EdgeRow" />
                <RowDefinition Height="707*" />
                <RowDefinition Height="{Binding ElementName=EdgeRow, Path=Height}" />
            </Grid.RowDefinitions>

            <DockPanel Grid.Column="1" Grid.Row="1">
                <Border
                    Background="White"
                    BorderThickness="1"
                    CornerRadius="3" Width="438">
                    <Grid>
                        <TextBlock
                            Text="Customer Information"
                            FontSize="22"
                            FontFamily="Dubai"
                            Margin="20 12 0 0"
                            Foreground="#FF333333" />

                        <StackPanel Margin="0,100,0,0">
                            <TextBlock
                                Text="ID"
                                Style="{StaticResource InfoHeader}"/>
                            <TextBlock
                                Text="Name"
                                Style="{StaticResource InfoHeader}" />
                            <TextBlock
                                Text="Phone"
                                Style="{StaticResource InfoHeader}" />
                            <TextBlock
                                Text="Active"
                                Style="{StaticResource InfoHeader}" />
                            <TextBlock
                                Text="Location"
                                Style="{StaticResource InfoHeader}" />
                        </StackPanel>

                        <StackPanel Margin="147,100,0,0"
                                    DataContext="{Binding ViewModel}">
                            <TextBlock
                                Text="{Binding Customer.id}"
                                Style="{StaticResource InfoDetails}" />
                            <TextBlock
                                Text="{Binding Customer.name}"
                                Style="{StaticResource InfoDetails}" />
                            <TextBlock
                                Text="{Binding Customer.phone}"
                                Style="{StaticResource InfoDetails}" />
                            <TextBlock
                                Text="{Binding Customer.active}"
                                Style="{StaticResource InfoDetails}" />
                            <TextBlock
                                Text="{Binding Dms}"
                                Style="{StaticResource InfoDetails}" />
                        </StackPanel>

                    </Grid>
                </Border>


                <Border
                    Background="White"
                    BorderThickness="1"
                    CornerRadius="3" 
                    Margin="2 0 0 0">
                    <wpf:WebView2
                        Source="{Binding MapUri.Uri}"
                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                        ScrollViewer.CanContentScroll="False"
                        materialDesign:ScrollBarAssist.ButtonsVisibility="Hidden" />
                </Border>

            </DockPanel>

            <!-- Window Controls -->
            <controls:WindowControls
                x:Name="CustomButtons"
                Margin="2"
                Grid.Row="0"
                Grid.Column="1"
                Grid.ColumnSpan="2"/>
    
        </Grid>
    </materialDesign:Card>

</Window>